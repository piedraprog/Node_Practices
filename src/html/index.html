<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pruebas</title>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11" defer></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css"
      integrity="sha512-sVSECYdnRMezwuq5uAjKQJEcu2wybeAPjU4VJQ9pCRcCY4pIpIw4YMHIOQ0CypfwHRvdSPbH++dA3O4Hihm/LQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css"
      integrity="sha512-P9vJUXK+LyvAzj8otTOKzdfF1F3UYVl13+F8Fof8/2QNb8Twd6Vb+VD52I7+87tex9UXxnzPgWA3rH96RExA7A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/regular.min.css"
      integrity="sha512-d2x1oQUT6HACW9UlXxWI6XrIBDrEE5z2tit/+kWEdXdVYuift7sm+Q6ucfGWQr1F0+GD9/6eYoYDegw2nm05Vw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css"
      integrity="sha512-tk4nGrLxft4l30r9ETuejLU0a3d7LwMzj0eXjzc16JQj+5U1IeVoCuGLObRDc3+eQMUcEQY1RIDPGvuA7SNQ2w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/svg-with-js.min.css"
      integrity="sha512-T+W8aCLi/CrpBhX5eX42Kw0/oGb/cxhQHYsQDIXx7UgK8c0A4CWw+TOQIqNJms1AZHI+6eKE4U1GubeLrguNww=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/v4-shims.min.css"
      integrity="sha512-fHavkBby/gcFEB2taaBfG0DLdHRGrnvkWQNXVZ5Yb/Fj6LkogecQUd6oyvBVsrWPaHSxs5tNza6LUW/Y6Az9lQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <style>
      /* * {
        box-sizing: border-box;
        margin: auto;
        padding: 0px;
        
      }

      #contenedorPadre {
        width: 100%;
        height: 100vh;
        background-color: #FFFFFF;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      #contenedorHijo {
        width: 500px;
        height: 400px;
        border-radius: 10px;
        background-color: #c0bebc;
      }

      #texto {
        /* margin: auto; */
      /* padding: 3rem;
      }

      p {

        font-size: 1rem;
        text-align: center;
      }

      #lista {
        display: flex;
        flex-direction: column;
        align-items: center;
        list-style: none;
      } */
    </style>

    <script src="https://cdn.tailwindcss.com"></script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <!-- Contenido de la página -->
    <!-- <h1>Ejemplo de redirección con SweetAlert2</h1> -->

    <!-- Botón para abrir el modal -->
    <!-- <button id="redireccionar">Redireccionar</button> -->

    <!-- <div id="contenedorPadre">
      <div id="contenedorHijo">

        <div id="texto">

          <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorum minima nulla nihil, animi sit earum fugiat enim nostrum. Possimus facere nemo necessitatibus odit pariatur illo ullam iusto, officiis iste voluptatem!</p>

          <br>

          <p><strong>Bot activado con la misma condición:</strong></p>
          <br>
          <ul id="lista">
            <li>Lorem ipsum dolor</li>
            <li>Lorem ipsum dolor</li>
            <li>Lorem ipsum dolor</li>
            <li>Lorem ipsum dolor</li>
          </ul>
          
          
        </div>

      </div>
    </div> -->

    <!-- <div class="container">
      <div class="flex flex-wrap bg-blue-500 w-40 gap-1">
        <div class="item bg-purple-500 w-10">1</div>
        <div class="item bg-purple-500 w-10">2</div>
        <div class="item bg-purple-500 w-10">3</div>
        <div class="item bg-purple-500 w-10">4</div>
        <div class="item bg-purple-500 w-10">5</div>
        <div class="item bg-purple-500 w-10">5</div>
        Agrega más elementos si es necesario
      </div>
    </div> -->

    <!-- <div class="flex flex-col">
      <button class="text-8xl border-8 border-red-800 p-0 m-0">
        <i class="fas fa-caret-up font"></i>
      </button>

      <button>
        <i class="fas fa-caret-down text-8xl border-8 border-red-800"></i>
      </button>
    </div> -->

    <!-- <div class="flex flex-col mr-1 gap-1 bg-slate-200 rounded-sm p-4 mt-3" *ngIf="entitiesArr.length > 0"> 
    </div>

    <div class="flex flex-col">
      <div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
        <div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
          <div class="overflow-hidden">
            <table class="min-w-full text-left text-sm font-light">
              <thead class="border-b font-medium dark:border-neutral-500">
                <tr>
                  <th scope="col" class="px-6 py-4">Entidad</th>
                  <th scope="col" class="px-6 py-4">Rol</th>
                  <th scope="col" class="px-6 py-4">Palabra identificada</th>
                  <th scope="col" class="px-6 py-4">Confianza</th>
                  <th scope="col" class="px-6 py-4"></th>
                </tr>
              </thead>
              <tbody>
                
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div> -->

    <!-- <div class="flex rounded-md shadow-sm">
        <div class="icon m-0 p-0">
          <i class="fas fa-quote-left w-1"></i>
        </div>
        <div contenteditable="true" class="w-3/4 outline-none select-text whitespace-pre-wrap overflow-wrap-break-word" role="textbox" spellcheck="false" aria-label="Ingrese su frase">
      </div>

      </div> -->
    <div class="flex items-center justify-center h-52">
      <div
        class="py-2 pl-2 pr-4 border border-gray-300 rounded-lg focus:outline-none active:border-blue-500 h-10 hover:cursor-text hover:border-blue-500 flex gap-2 w-3/4"
      >
        <div class="-mt-3">
          <i class="fas fa-quote-left text-xs"></i>
        </div>
        <div
          contenteditable="true"
          class="w-3/4 outline-none select-text whitespace-pre-wrap overflow-wrap-break-word"
          role="textbox"
          id="miInput"
          spellcheck="false"
          aria-label="Ingrese su frase"
        ></div>
      </div>
    </div>
    <div class="flex justify-center">
      <button onclick="sombrearTexto(11, 23)" class="bg-blue-500 p-3 text-white rounded-md font-bold">Sombrear</button>
    </div>

    <script>
      const inputElement = document.getElementById("miInput");

      miInput.addEventListener("mouseup", function () {
        resaltarTexto();
      });

      function getRandomColor() {
        const pastelColors = [
          "#FFD700", // Amarillo
          "#FFA07A", // Salmón claro
          "#FFB6C1", // Rosa claro
          "#87CEEB", // Azul cielo
          "#98FB98", // Verde claro
          "#FFDAB9", // Melocotón claro
          "#ADD8E6", // Azul claro
          "#FFC0CB", // Rosa pastel
        ];

        return pastelColors[Math.floor(Math.random() * pastelColors.length)];
      }

      function sombrearTexto(inicio, fin) {
        var inputElement = document.getElementById("miInput");
        var texto = inputElement.textContent;

        if (inicio >= 0 && inicio < fin && fin <= texto.length) {
          var seleccion = document.createRange();
          seleccion.setStart(inputElement.firstChild, inicio);
          seleccion.setEnd(inputElement.firstChild, fin);

          var seleccionSombreada = window.getSelection();
          seleccionSombreada.removeAllRanges();
          seleccionSombreada.addRange(seleccion);
          resaltarTexto();
          quitarSeleccion();
        } else {
          alert("Los índices de inicio y fin no son válidos.");
        }
      }

      resaltarTexto = () => {
        const selection = window.getSelection();
        const selectedText = selection.toString();
        let selectionStart, selectionEnd;

        if (selection.anchorOffset <= selection.focusOffset) {
          selectionStart = selection.anchorOffset;
          selectionEnd = selection.focusOffset;
        } else {
          selectionStart = selection.focusOffset;
          selectionEnd = selection.anchorOffset;
        }

        const selectedTextWithSpaces = miInput.innerText.slice(
          selectionStart,
          selectionEnd
        );

        if (selectedText.length > 0) {
          const randomColor = getRandomColor();
          const spanElement = document.createElement("span");
          spanElement.style.backgroundColor = randomColor;

          const range = selection.getRangeAt(0);
          range.surroundContents(spanElement);
          
          console.log(
            "Texto seleccionado (con espacios):",
            selectedTextWithSpaces
          );
          console.log("Color resaltado:", randomColor);
        }
      };

      quitarSeleccion = () => {
        let seleccionSombreada = window.getSelection();
        seleccionSombreada.removeAllRanges();
      };

      // contenido.addEventListener("mouseup", (event) => {
      //   const seleccion = window.getSelection().toString().trim();
      //   if (seleccion) {
      //     const rango = window.getSelection().getRangeAt(0);
      //     const span = document.createElement("span");
      //     span.textContent = seleccion;

      //     console.log(seleccion);
      //     span.classList.add("seleccionado");
      //     rango.deleteContents();
      //     rango.insertNode(span);
      //   }
      // });

      /* document
        //   .getElementById("redireccionar")
        //   .addEventListener("click", function () {
        //     Swal.fire({
        //       title: "Redireccionando",
        //       text: "Serás redirigido en unos segundos...",
        //       icon: "error",
        //       showCancelButton: true,
        //       showConfirmButton: true,
        //       willOpen: () => {
        //         // Modifica el contenido del modal
        //         const confirmButton = Swal.getConfirmButton();
        //         confirmButton.innerHTML = "Ir a contacto";
        //         confirmButton.addEventListener("click", () => {
        //           // Redirige a la página de contacto
        //           window.open(
        //             "https://sweetalert2.github.io/#download",
        //             "_blank"
        //           );
        //         });
        //       },
        //     });
         });*/
    </script>
  </body>
</html>
